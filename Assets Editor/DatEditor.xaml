<Window x:Class="Assets_Editor.DatEditor"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Assets_Editor" xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls" 
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" 
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="DatEditor" Height="860" Width="1220" materialDesign:ShadowAssist.CacheMode="{x:Null}" Loaded="Window_Loaded"
        Style="{StaticResource MaterialDesignWindow}">
    <Window.Resources>
        <local:ArithmeticConverter x:Key="ArithmeticConverter" />
        <local:NullableColorToBrushConverter x:Key="NullableColorToBrushConverter" />
        <local:BooleanInverter x:Key="BooleanInverter"/>
    </Window.Resources>
    <Grid x:Name="MainContent" HorizontalAlignment="Center" VerticalAlignment="Stretch" IsHitTestVisible="{Binding ElementName=ComppileDialogHost, Path=IsOpen, Mode=OneWay, Converter={StaticResource BooleanInverter}}">
        <materialDesign:DialogHost Grid.Row="1" x:Name="ComppileDialogHost" OverlayBackground="Gray" >
            <materialDesign:DialogHost.DialogContent>
                <GroupBox x:Name="CompileBox" Header="Export To Legacy" Width="350">
                    <Grid >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="40"/>
                        </Grid.RowDefinitions>
                        <StackPanel Orientation="Horizontal" Grid.Row="0">
                            <Label Content="Converting Objects"/>
                            <ProgressBar x:Name="LoadProgress1" Minimum="0" Maximum="100" Value="0" Width="210" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,0,0,10" Height="8" />
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Grid.Row="1">
                            <Label Content="Converting Sprites"/>
                            <ProgressBar x:Name="LoadProgress2" Minimum="0" Maximum="100" Value="0" Width="210" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="5,0,0,10" Height="8" />
                        </StackPanel>
                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button Click="CompileLegacy" Content="Export" Width="100" Margin="0,0,20,0"/>
                            <Button Command="{x:Static materialDesign:DialogHost.CloseDialogCommand}" Content="Cancel" Width="100"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>
            </materialDesign:DialogHost.DialogContent>
        </materialDesign:DialogHost>
        <Grid HorizontalAlignment="Center" VerticalAlignment="Stretch">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Border Grid.Row="0" Grid.Column="0" BorderThickness="1" BorderBrush="{DynamicResource PrimaryHueMidBrush}" VerticalAlignment="Stretch" HorizontalAlignment="Left" Margin="10,5,0,10" Width="240">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="45"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="40"/>
                        <RowDefinition Height="75"/>
                    </Grid.RowDefinitions>
                    <ComboBox Grid.Row="0" x:Name="ObjectMenu" Style="{StaticResource MaterialDesignFilledComboBox}" HorizontalAlignment="Center" VerticalAlignment="Center" FontWeight="Bold" SelectionChanged="ObjectMenuChanged" SelectedIndex="0" Width="240" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Padding="0,-15,0,0" Focusable="False" SnapsToDevicePixels="True" FlowDirection="LeftToRight" Height="50" Background="{DynamicResource PrimaryHueMidBrush}" BorderThickness="0,0,0,0" >
                        <ComboBoxItem Content="Outfits"/>
                        <ComboBoxItem Content="Items"/>
                        <ComboBoxItem Content="Effects"/>
                        <ComboBoxItem Content="Missiles"/>
                    </ComboBox>
                    <ListView Grid.Row="1" x:Name="ObjListView" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" VirtualizingPanel.VirtualizationMode="Recycling" VirtualizingPanel.IsVirtualizing="True" SelectionMode="Extended"  ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.ScrollChanged="ObjListView_ScrollChanged" SelectionChanged="ObjListView_SelectionChanged" SelectedIndex="0" Margin="0,5,0,0">
                        <ListView.View>
                            <GridView AllowsColumnReorder="False">
                                <GridView.ColumnHeaderContainerStyle>
                                    <Style TargetType="{x:Type GridViewColumnHeader}">
                                        <Setter Property="IsHitTestVisible" Value="False"/>
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </Style>
                                </GridView.ColumnHeaderContainerStyle>
                                <GridViewColumn Header="Id" DisplayMemberBinding="{Binding Id}" Width="60"/>
                                <GridViewColumn Header="Sprite" Width="90">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding Image}" Stretch="None" RenderOptions.BitmapScalingMode="NearestNeighbor"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <xctk:IntegerUpDown Grid.Row="2" x:Name="ObjListViewSelectedIndex" ParsingNumberStyle="Integer" ValueChanged="ObjListViewSelectedIndex_ValueChanged" Minimum="0" Focusable="False" Margin="0,5,0,0" Background="{DynamicResource MaterialDesignLightSeparatorBackground}"/>
                    <Border Grid.Row="3" BorderThickness="1" BorderBrush="{DynamicResource PrimaryHueMidBrush}" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="-1,5,-1,-1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="110"/>
                                <ColumnDefinition Width="41"/>
                                <ColumnDefinition Width="41"/>
                                <ColumnDefinition Width="41"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Orientation="Vertical">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="ObjectClone" Style="{StaticResource MaterialDesignIconButton}" Content="{materialDesign:PackIcon ContentDuplicate}" Width="35" Height="35" ToolTip="Duplicate Object" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ObjectClone_PreviewMouseLeftButtonDown"/>
                                    <Button x:Name="CopyFlags" Style="{StaticResource MaterialDesignIconButton}" Content="{materialDesign:PackIcon ArrangeBringForward}" Width="35" Height="35" ToolTip="Copy Flags" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="CopyObjectFlags"/>
                                    <Button x:Name="PasteFlags" Style="{StaticResource MaterialDesignIconButton}" Content="{materialDesign:PackIcon ArrangeSendBackward}" Width="35" Height="35" ToolTip="Paste Flags" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="PasteObjectFlags"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button x:Name="ObjectSave" Style="{StaticResource MaterialDesignIconButton}" Content="{materialDesign:PackIcon ContentSave}" Width="35" Height="35" ToolTip="Save Changes" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ObjectSave_PreviewMouseLeftButtonDown"/>
                                    <Button x:Name="NewObject" Style="{StaticResource MaterialDesignIconButton}" Content="{materialDesign:PackIcon FilePlus}" Width="35" Height="35" ToolTip="New Object" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="NewObject_PreviewMouseLeftButtonDown"/>
                                    <Button x:Name="DeleteObject" Style="{StaticResource MaterialDesignIconButton}" Content="{materialDesign:PackIcon Delete}" Width="35" Height="35" ToolTip="Delete Object" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="DeleteObject_PreviewMouseLeftButtonDown"/>
                                </StackPanel>
                            </StackPanel>

                            <Button Grid.Column="2" x:Name="ExportObject" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="35" Height="35" ToolTip="Export Objects" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ExportObject_PreviewMouseLeftButtonDown">
                                <materialDesign:PackIcon Width="30" Height="30" Kind="DatabaseArrowUpOutline" />
                            </Button>
                            <Button Grid.Column="3" x:Name="ImportObject" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="35" Height="35" ToolTip="Import Objects" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ImportObject_PreviewMouseLeftButtonDown">
                                <materialDesign:PackIcon Width="30" Height="30" Kind="DatabaseArrowDownOutline" />
                            </Button>
                            <materialDesign:Badged x:Name="AddExportObjectCounter" Grid.Column="1" Badge="0" Width="35" Height="35" VerticalAlignment="Center">
                                <Button x:Name="AddExportObject" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="35" Height="35" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="AddExportObject_PreviewMouseLeftButtonDown" PreviewMouseRightButtonDown="AddExportObject_PreviewMouseRightButtonDown">
                                    <Button.ToolTip>
                                        <ToolTip>
                                            <TextBlock>
                                                Add to Export List<LineBreak/>
                                                Right click to clear list
                                            </TextBlock>
                                        </ToolTip>
                                    </Button.ToolTip>
                                    <materialDesign:PackIcon Width="30" Height="30" Kind="DatabasePlus" />
                                </Button>
                            </materialDesign:Badged>
                        </Grid>
                    </Border>
                </Grid>
            </Border>
            <Grid Grid.Row="0" Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="60"/>
                </Grid.RowDefinitions>
                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <Menu IsMainMenu="True" materialDesign:MenuAssist.TopLevelMenuItemHeight="30">
                        <MenuItem Header="_File">
                            <MenuItem Header="Compile" Click="Compile_Click">
                                <MenuItem.Icon>
                                    <materialDesign:PackIcon Kind="ContentSaveCogOutline" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem Header="Export to legacy" Click="CompileLegacy_Click">
                                <MenuItem.Icon>
                                    <materialDesign:PackIcon Kind="FileDocumentArrowRight" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <!-- 
                        <MenuItem Header="OTB Editor" Click="OTBEditor_Click">
                            <MenuItem.Icon>
                                <materialDesign:PackIcon Kind="CookieEdit" />
                            </MenuItem.Icon>
                        </MenuItem>
                        -->
                            <MenuItem Header="Search Item" Click="SearchItem_Click">
                                <MenuItem.Icon>
                                    <materialDesign:PackIcon Kind="LayersSearchOutline" />
                                </MenuItem.Icon>
                            </MenuItem>
                            <MenuItem Header="Logger" Click="ShowLogger">
                                <MenuItem.Icon>
                                    <materialDesign:PackIcon Kind="MathLog" />
                                </MenuItem.Icon>
                            </MenuItem>
                        </MenuItem>
                        <MenuItem Header="_About">
                            <MenuItem Header="About" Click="About_Click">
                                <MenuItem.Icon>
                                    <materialDesign:PackIcon Kind="InformationVariant" />
                                </MenuItem.Icon>
                            </MenuItem>
                        </MenuItem>
                    </Menu>
                    <Label Content="Light" VerticalAlignment="Center"/>
                    <ToggleButton x:Name="DarkModeToggle" Margin="5,0,5,0" Checked="DarkModeToggle_Checked" Unchecked="DarkModeToggle_Checked"/>
                    <Label Content="Dark" VerticalAlignment="Center"/>
                </StackPanel>
                <TabControl Grid.Row="1" x:Name="ViewTabControl" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Margin="10,0,0,10">
                    <TabItem Header="Properties">
                        <GroupBox Header="AppearanceFlags" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" x:Name="Tab1">
                            <ScrollViewer>
                                <WrapPanel Orientation="Horizontal">
                                    <StackPanel Margin="5,0,5,10">
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="25">
                                            <Label Content="Appearance Id:" Width="100" Padding="0,0,0,0" Margin="5,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagId" Margin="30,0,0,0" Width="100" Minimum="1"/>
                                            <Button x:Name="A_FlagIdCheck" Margin="35,0,0,0" Height="20" Content="{materialDesign:PackIcon Check}" ToolTip="Validate Id" PreviewMouseLeftButtonDown="A_FlagIdCheck_PreviewMouseLeftButtonDown"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <CheckBox x:Name="A_FlagTransparency" Content="Transparency" Width="130" Margin="0,0,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Level:" Width="100" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagTransparencyLevel" Margin="0,0,0,0" Width="80" Minimum="0" Maximum="255"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <CheckBox x:Name="A_FlagGround" Content="Ground" Width="130" Margin="0,0,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Speed:" Width="100" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagGroundSpeed" Margin="0,0,0,0" Width="80" Minimum="0" Maximum="1000"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagClip" Content="Clip" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagBottom" Content="Bottom" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagTop" Content="Top" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagContainer" Content="Container" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagCumulative" Content="Cumulative" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagUsable" Content="Usable" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagForceuse" Content="Forceuse" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagMultiuse" Content="Multiuse" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagWrite" Content="Write" Width="130" Margin="0,0,0,0" Padding="4,0,0,0"/>
                                            <Label Content="Max Text Length:" Width="100" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagMaxTextLength" Margin="0,0,0,0" Width="80" Minimum="0" Maximum="1024"/>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagWriteOnce" Content="Write Once" Width="130" Margin="0,0,0,0" Padding="4,0,0,0"/>
                                            <Label Content="Max Text Length:" Width="100" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagMaxTextLengthOnce" Margin="0,0,0,0" Width="80" Minimum="0" Maximum="1024"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagLiquidpool" Content="Liquid Pool" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagUnpass" Content="Unpass" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagUnmove" Content="Unmove" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagUnsight" Content="Unsight" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagAvoid" Content="Avoid" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagNoMoveAnimation" Content="No Move Animation" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagTake" Content="Take" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagLiquidcontainer" Content="Liquid Container" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagHang" Content="Hang" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagHook" Content="Hook" Width="130" Margin="0,0,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Hook Type:" Width="100" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="A_FlagHookType" Width="80" BorderThickness="1,1,1,1" SelectedIndex="-1" Padding="6,1,5,3">
                                                <ComboBoxItem Content="Hook South"/>
                                                <ComboBoxItem Content="Hook East"/>
                                            </ComboBox>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagRotate" Content="Rotate" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="22" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagLight" Content="Light" Width="60" Margin="0,0,0,0" Padding="4,-1,0,0"/>
                                            <Label Content="Brightness:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagLightBrightness" Margin="0,0,0,0" Width="50" Minimum="0" Maximum="10"/>
                                            <Label Content="Color:" Width="35" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:ColorPicker x:Name="A_FlagLightColorPicker" VerticalAlignment="Top" DisplayColorTooltip="False" ShowDropDownButton="False" ShowStandardColors="False" ShowTabHeaders="False" Width="30" SelectedColorChanged="A_FlagLightColorPickerChanged"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagLightColor" Margin="15,0,0,0" Width="50" Minimum="0" Maximum="215" ValueChanged="A_FlagLightColor_ValueChanged"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagDontHide" Content="Dont Hide" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagTranslucent" Content="Translucent" Margin="0,5,0,5"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <CheckBox x:Name="A_FlagShift" Content="Shift" Width="160" Margin="0,0,0,0" Padding="4,0,0,0"/>
                                            <Label Content="X:" Width="15" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagShiftX" Margin="0,0,0,0" Width="50" Minimum="0" Maximum="32"/>
                                            <Label Content="Y:" Width="15" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagShiftY" Margin="0,0,0,0" Width="60" Minimum="0" Maximum="32"/>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagHeight" Content="Height" Width="160" Margin="0,-1,0,0" Padding="4,0,0,0"/>
                                            <Label Content="Elevation:" Width="90" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagElevation" Margin="0,0,0,0" Width="60" Minimum="0" Maximum="32"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagReverseAddonEast" Content="Reverse addon east" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagReverseAddonWest" Content="Reverse addon west" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagReverseAddonSouth" Content="Reverse addon south" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagReverseAddonNorth" Content="Reverse addon north" Margin="0,5,0,0"/>
                                    </StackPanel>
                                    <StackPanel Margin="5,0,5,0" >
                                        <CheckBox x:Name="A_FlagLyingObject" Content="Lying Object"/>
                                        <CheckBox x:Name="A_FlagAnimateAlways" Content="Animate Always" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="22" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagAutomap" Content="Auto Map" Width="160" Margin="0,-1,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Color:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:ColorPicker x:Name="A_FlagAutomapColorPicker" VerticalAlignment="Top" DisplayColorTooltip="False" ShowDropDownButton="False" ShowStandardColors="False" ShowTabHeaders="False" Width="30" SelectedColorChanged="A_FlagAutomapColorPickerChanged"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagAutomapColor" Margin="10,0,0,0" Width="50" Minimum="0" Maximum="215" ValueChanged="A_FlagAutomapColor_ValueChanged"/>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagLenshelp" Content="Lens help" Width="160" Margin="0,-1,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Type:" Width="40" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="A_FlagLenshelpId" Width="110" BorderThickness="1,1,1,1" SelectedIndex="-1" Padding="6,1,5,3">
                                                <ComboBoxItem Content="Ladders"/>
                                                <ComboBoxItem Content="Sewer Grates"/>
                                                <ComboBoxItem Content="Dungeon Floor"/>
                                                <ComboBoxItem Content="Levers"/>
                                                <ComboBoxItem Content="Doors"/>
                                                <ComboBoxItem Content="Special Doors"/>
                                                <ComboBoxItem Content="Stairs"/>
                                                <ComboBoxItem Content="Mailboxes"/>
                                                <ComboBoxItem Content="Depot Boxes"/>
                                                <ComboBoxItem Content="Dustbins"/>
                                                <ComboBoxItem Content="Stone Piles"/>
                                                <ComboBoxItem Content="Signs"/>
                                                <ComboBoxItem Content="Books and Scrolls"/>
                                            </ComboBox>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagFullGround" Content="Full Ground" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagIgnoreLook" Content="Ignore Look" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagClothes" Content="Clothes" Width="160" Margin="0,-1,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Slot:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="A_FlagClothesSlot" Width="90" BorderThickness="1,1,1,1" SelectedIndex="-1" Padding="6,1,5,3">
                                                <ComboBoxItem Content="None"/>
                                                <ComboBoxItem Content="Helmet"/>
                                                <ComboBoxItem Content="Amulet"/>
                                                <ComboBoxItem Content="Backpack"/>
                                                <ComboBoxItem Content="Armor"/>
                                                <ComboBoxItem Content="Shield"/>
                                                <ComboBoxItem Content="Weapon"/>
                                                <ComboBoxItem Content="Legs"/>
                                                <ComboBoxItem Content="Boots"/>
                                                <ComboBoxItem Content="Ring"/>
                                                <ComboBoxItem Content="Arrow"/>
                                            </ComboBox>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagDefaultAction" Content="Default Action" Width="160" Margin="0,0,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Action:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="A_FlagDefaultActionType" Width="90" BorderThickness="1,1,1,1" SelectedIndex="-1" Padding="6,1,5,3">
                                                <ComboBoxItem Content="None"/>
                                                <ComboBoxItem Content="Look"/>
                                                <ComboBoxItem Content="Use"/>
                                                <ComboBoxItem Content="Open"/>
                                                <ComboBoxItem Content="Highlight"/>
                                            </ComboBox>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagMarket" Content="Market" Checked="A_FlagMarket_Checked" Width="160" Margin="0,0,0,5" Padding="4,0,0,0"/>
                                            <Label Content="Category:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="A_FlagMarketCategory" Width="90" BorderThickness="1,1,1,1" SelectedIndex="-1" Padding="6,1,5,3">
                                                <ComboBoxItem Content="Armors"/>
                                                <ComboBoxItem Content="Amulets"/>
                                                <ComboBoxItem Content="Boots"/>
                                                <ComboBoxItem Content="Containers"/>
                                                <ComboBoxItem Content="Decoration"/>
                                                <ComboBoxItem Content="Food"/>
                                                <ComboBoxItem Content="HelmetsHats"/>
                                                <ComboBoxItem Content="Legs"/>
                                                <ComboBoxItem Content="Others"/>
                                                <ComboBoxItem Content="Potions"/>
                                                <ComboBoxItem Content="Rings"/>
                                                <ComboBoxItem Content="Runes"/>
                                                <ComboBoxItem Content="Shields"/>
                                                <ComboBoxItem Content="Tools"/>
                                                <ComboBoxItem Content="Valuables"/>
                                                <ComboBoxItem Content="Ammunition"/>
                                                <ComboBoxItem Content="Axes"/>
                                                <ComboBoxItem Content="Clubs"/>
                                                <ComboBoxItem Content="DistanceWeapons"/>
                                                <ComboBoxItem Content="Swords"/>
                                                <ComboBoxItem Content="WandsRods"/>
                                                <ComboBoxItem Content="PremiumScrolls"/>
                                                <ComboBoxItem Content="TibiaCoins"/>
                                                <ComboBoxItem Content="CreatureProducts"/>
                                                <ComboBoxItem Content="Quiver"/>
                                                <ComboBoxItem Content="SoulCores"/>
                                            </ComboBox>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <Label Content="Trade As:" Width="60" Padding="0,0,0,0" Margin="20,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagMarketTrade" Margin="0,0,0,0" Width="80" Minimum="0"/>
                                            <Label Content="Show As:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagMarketShow" Margin="0,0,0,0" Width="90" Minimum="0"/>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <Label Content="Profession:" Width="60" Padding="0,0,0,0" Margin="20,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <ComboBox x:Name="A_FlagMarketProfession" Width="80" BorderThickness="1,1,1,1" SelectedIndex="-1" Padding="6,1,5,3" IsReadOnly="True" SelectionChanged="A_FlagMarketProfession_SelectionChanged">
                                                <CheckBox x:Name="A_FlagProfessionAny" Content="Any"/>
                                                <CheckBox x:Name="A_FlagProfessionNone" Content="None"/>
                                                <CheckBox x:Name="A_FlagProfessionKnight" Content="Knight"/>
                                                <CheckBox x:Name="A_FlagProfessionPaladin" Content="Paladin"/>
                                                <CheckBox x:Name="A_FlagProfessionSorcerer" Content="Sorcerer"/>
                                                <CheckBox x:Name="A_FlagProfessionDruid" Content="Druid"/>
                                                <CheckBox x:Name="A_FlagProfessionPromoted" Content="Promoted"/>
                                            </ComboBox>
                                            <Label Content="Min level:" Width="60" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagMarketlevel" Margin="0,0,0,0" Width="90" Minimum="0"/>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <Label Content="Name:" Width="65" Padding="0,0,0,0" Margin="5,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <TextBox x:Name="A_FlagName" Width="240" Style="{StaticResource MaterialDesignComboBoxEditableTextBox}" FontWeight="Medium" VerticalAlignment="Center" Height="20"/>
                                        </StackPanel>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20">
                                            <Label Content="Desctiption:" Width="65" Padding="0,0,0,0" Margin="5,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <TextBox x:Name="A_FlagDescription" Width="240" Style="{StaticResource MaterialDesignComboBoxEditableTextBox}" FontWeight="Medium" VerticalAlignment="Center" Height="20"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagWrap" Content="Wrap" Width="150"/>
                                            <CheckBox x:Name="A_FlagUnwrap" Content="Unwrap"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagTopeffect" Content="Top Effect" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagDecoItemKit" Content="Deco Item Kit" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagChangedToExpire" Content="Changed To Expire" Width="180" Margin="0,-1,0,0" Padding="4,0,0,0"/>
                                            <Label Content="Former Id:" Width="60" Padding="0,0,0,0" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagChangedToExpireId" Margin="0,0,0,0" Width="80" Minimum="0"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagCorpse" Content="Corpse" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagPlayerCorpse" Content="Player Corpse" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagShowOffSocket" Content="Podium" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagReportable" Content="Reportable" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagUpgradeClassification" Content="Upgrade classification" Width="165" Margin="0,-1,0,0" Padding="4,0,0,0"/>
                                            <Label Content="Classification:" Width="75" Padding="0,0,0,0" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagUpgradeClassificationAmount" Margin="0,0,0,0" Width="80"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_FlagWearOut" Content="Wearout" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagClockExpire" Content="Clock expire" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagExpire" Content="Expire" Margin="0,5,0,0"/>
                                        <CheckBox x:Name="A_FlagExpireStop" Content="Expire stop" Margin="0,5,0,0"/>
                                        <StackPanel Width="320" Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagCyclopedia" Content="Cyclopedia" Checked="A_FlagCyclopedia_Checked" Width="180" Margin="0,-1,0,0" Padding="4,0,0,0"/>
                                            <Label Content="Type:" Width="60" Padding="0,0,0,0" Margin="0,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center"/>
                                            <xctk:IntegerUpDown x:Name="A_FlagCyclopediaItem" Margin="0,0,0,0" Width="80"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                            <CheckBox x:Name="A_FlagNPC" Content="Npc Sale Data" Margin="0,5,0,0" Width="150"/>
                                            <CheckBox x:Name="A_FlagAmmo" Content="Ammo" Margin="0,5,0,0" Width="150"/>
                                        </StackPanel>
                                        <DataGrid x:Name="A_FlagNPCData" Height="153" HorizontalAlignment="Left" Margin="0,5,0,0" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserResizeColumns="true" CanUserResizeRows="False" FontSize="11">
                                            <DataGrid.ColumnHeaderStyle>
                                                <Style TargetType="{x:Type DataGridColumnHeader}">
                                                    <Setter Property="FontSize" Value="10"/>
                                                </Style>
                                            </DataGrid.ColumnHeaderStyle>
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="Name" Binding="{Binding Name}"/>
                                                <DataGridTextColumn Header="Location" Binding="{Binding Location}"/>
                                                <DataGridTextColumn Header="Buy Price" Binding="{Binding BuyPrice}"/>
                                                <DataGridTextColumn Header="Sale Price" Binding="{Binding SalePrice}"/>
                                                <DataGridTextColumn Header="CurrencyId" Binding="{Binding CurrencyObjectTypeId}"/>
                                                <DataGridTextColumn Header="CurrencyName" Binding="{Binding CurrencyQuestFlagDisplayName}"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </StackPanel>
                                </WrapPanel>
                            </ScrollViewer>
                        </GroupBox>
                    </TabItem>
                    <TabItem Header="Texture" UseLayoutRounding="True" RenderOptions.BitmapScalingMode="Fant">
                        <GroupBox Header="Sprites" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" >
                            <ScrollViewer>
                                <WrapPanel Orientation="Horizontal" MaxWidth="700">
                                    <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Width="321" Margin="5,0,5,0">
                                        <Grid Margin="20,20,0,0" Width="265" Height="265" HorizontalAlignment="Left" VerticalAlignment="Top">
                                            <Border BorderThickness="1" HorizontalAlignment="Center" VerticalAlignment="Center" BorderBrush="#FF4F4F4F" Background="{Binding SelectedColor, ElementName=SprBackgroundPicker, Converter={StaticResource NullableColorToBrushConverter} }">
                                                <Grid x:Name="SpriteViewerGrid" ShowGridLines="false" HorizontalAlignment="Center" VerticalAlignment="Center">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="32"/>
                                                    </Grid.RowDefinitions>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="32"/>
                                                    </Grid.ColumnDefinitions>
                                                </Grid>
                                            </Border>
                                            <Button x:Name="SprUpArrow" x:Uid="0" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="30" Height="30" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ChangeDirection" materialDesign:ButtonProgressAssist.IsIndicatorVisible="False" materialDesign:ButtonProgressAssist.Value="100" Margin="108,-10,109,228">
                                                <materialDesign:PackIcon Kind="ArrowUpDropCircle" HorizontalAlignment="Center" ToolTip="Modify"/>
                                            </Button>
                                            <Button x:Name="SprRightArrow" x:Uid="1" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="30" Height="30" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ChangeDirection" materialDesign:ButtonProgressAssist.IsIndicatorVisible="False" materialDesign:ButtonProgressAssist.Value="100" Margin="227,108,-10,109">
                                                <materialDesign:PackIcon Kind="ArrowRightDropCircle" HorizontalAlignment="Center" ToolTip="Modify"/>
                                            </Button>
                                            <Button x:Name="SprDownArrow" x:Uid="2" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="30" Height="30" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ChangeDirection" materialDesign:ButtonProgressAssist.IsIndicatorVisible="False" materialDesign:ButtonProgressAssist.Value="100" Margin="109,227,108,-10">
                                                <materialDesign:PackIcon Kind="ArrowDownDropCircle" HorizontalAlignment="Center" ToolTip="Modify"/>
                                            </Button>
                                            <Button x:Name="SprLeftArrow" x:Uid="3" Style="{StaticResource MaterialDesignFloatingActionButton}"  Width="30" Height="30" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="ChangeDirection" materialDesign:ButtonProgressAssist.IsIndicatorVisible="False" materialDesign:ButtonProgressAssist.Value="100" Margin="-10,108,217,109">
                                                <materialDesign:PackIcon Kind="ArrowLeftDropCircle" HorizontalAlignment="Center" ToolTip="Modify"/>
                                            </Button>
                                        </Grid>
                                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                                            <Label x:Name="SprFramesSliderCounter" HorizontalAlignment="Left"
                                                   Margin="20,0,0,0" VerticalAlignment="Top"
                                                   MinWidth="40" HorizontalContentAlignment="Left"
                                                   Content="{Binding Value, ElementName=SprFramesSlider, Converter={StaticResource ArithmeticConverter}, ConverterParameter=1}" />
                                            <Slider x:Name="SprFramesSlider" Width="170" IsSnapToTickEnabled="True"
                                                    TickFrequency="1" ValueChanged="SprFramesSlider_ValueChanged"
                                                    Margin="35,5,0,0" SmallChange="1" VerticalAlignment="Top"
                                                    HorizontalAlignment="Left" />
                                        </StackPanel>
                                        <xctk:ColorPicker x:Name="SprBackgroundPicker" VerticalAlignment="Top" AdvancedTabHeader="False" ShowTabHeaders="False" SelectedColor="Gray" Width="200" Margin="0,15,0,10"/>
                                    </StackPanel>
                                    <StackPanel Width="320" Margin="5,0,5,0" HorizontalAlignment="Left" VerticalAlignment="Top">
                                        <GroupBox x:Name="SpriteAnimationGroup" Header="Sprite Animation" VerticalAlignment="Top" HorizontalAlignment="Left" Width="320">
                                            <StackPanel Orientation="Vertical" x:Name="AnimationTab" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                                <StackPanel Orientation="Horizontal">
                                                    <Label Content="Default start Phase:" Width="120"/>
                                                    <xctk:IntegerUpDown x:Name="SprDefaultPhase" Minimum="0" Maximum="1000" HorizontalAlignment="Left" Width="110" PreviewMouseLeftButtonDown="SprDefaultPhase_PreviewMouseLeftButtonDown"/>
                                                </StackPanel>
                                                <CheckBox x:Name="SprRandomPhase" Content="Random Start Phase" Click="SprRandomPhase_Click"/>
                                                <CheckBox x:Name="SprSynchronized" Content="Synchronized" Click="SprSynchronized_Click"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <Label Content="Loop Type:" Width="120" />
                                                    <ComboBox x:Name="SprLoopType" BorderThickness="1,1,1,1" SelectedIndex="-1" HorizontalAlignment="Left" Width="110" SelectionChanged="SprLoopType_SelectionChanged" >
                                                        <ComboBoxItem Content="Ping Pong"/>
                                                        <ComboBoxItem Content="Infinite"/>
                                                        <ComboBoxItem Content="Counted"/>
                                                    </ComboBox>
                                                </StackPanel>
                                                <StackPanel Orientation="Horizontal">
                                                    <Label Content="Loop Count:" Width="120"/>
                                                    <xctk:IntegerUpDown x:Name="SprLoopCount" Minimum="0" Maximum="1000" HorizontalAlignment="Left" Width="110" ValueChanged="SprLoopCount_ValueChanged"/>
                                                </StackPanel>
                                            </StackPanel>
                                        </GroupBox>
                                        <GroupBox x:Name="SpriteFrameAnimationGroup" Header="Frame Animation" VerticalAlignment="Top" HorizontalAlignment="Left" Width="320" Margin="0,10,0,0">
                                            <StackPanel Orientation="Vertical" x:Name="SpriteFrameAnimationTab" HorizontalAlignment="Center" VerticalAlignment="Stretch">
                                                <StackPanel Orientation="Horizontal">
                                                    <Label Content="Min Duration:" Width="120"/>
                                                    <xctk:IntegerUpDown x:Name="SprPhaseMin" Width="110" Minimum="0" Maximum="1000" ValueChanged="SprPhaseMin_ValueChanged"/>
                                                </StackPanel>
                                                <StackPanel Orientation="Horizontal">
                                                    <Label Content="Max Duration:" Width="120"/>
                                                    <xctk:IntegerUpDown x:Name="SprPhaseMax" Width="110" Minimum="0" Maximum="1000" ValueChanged="SprPhaseMax_ValueChanged"/>
                                                </StackPanel>
                                                <Grid Margin="0,5,0,0">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="*" />
                                                        <ColumnDefinition Width="Auto" />
                                                    </Grid.ColumnDefinitions>
                                                    <Button x:Name="SprApplyForAll" Content="Apply to all frames" Grid.Column="1"  Click="SprApplyForAll_Click"/>
                                                </Grid>
                                            </StackPanel>
                                        </GroupBox>
                                        <StackPanel>
                                            <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                                <Label Content="Group:" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                <Slider x:Name="SprGroupSlider" Width="50" IsSnapToTickEnabled="True" TickFrequency="1" ValueChanged="SprGroupSlider_ValueChanged" Minimum="0" Maximum="{Binding Value, ElementName=A_SprGroups, Converter={StaticResource ArithmeticConverter}, ConverterParameter=-1}" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="20,5,0,0"/>
                                                <Label x:Name="SprGroupType" Content="Idle" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="20,0,0,0"/>
                                            </StackPanel>
                                            <CheckBox x:Name="SprBlendLayer" Content="Blend Layer" Height="20" Width="100" Click="SprBlendLayer_Click" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,5,0,0" />
                                            <StackPanel Orientation="Horizontal" Margin="0,5,0,0">
                                                <Label Content="Addon" HorizontalAlignment="Left" VerticalAlignment="Top"/>
                                                <Slider x:Name="SprAddonSlider" Width="50" IsSnapToTickEnabled="True" TickFrequency="1" Maximum="{Binding Value, ElementName=A_SprPaternY, Converter={StaticResource ArithmeticConverter}, ConverterParameter=-1}" ValueChanged="SprAddonSlider_ValueChanged" SmallChange="1" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="20,5,0,0" />
                                            </StackPanel>
                                            <CheckBox x:Name="SprMount" Content="Mount" Height="20" Width="100" Click="SprMount_Click" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="0,5,0,0" />
                                        </StackPanel>
                                    </StackPanel>
                                    <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5,5,5,0" Width="320">
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,5,0,0">
                                            <Label Content="Groups:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprGroups" Margin="0,0,0,0" Width="110" Minimum="1" Maximum="2" ValueChanged="A_Texture_ValueChanged" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,10,0,0">
                                            <Label Content="Layers:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprLayers" Margin="0,0,0,0" Width="110" Minimum="1" Maximum="2" ValueChanged="A_Texture_ValueChanged" />
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,10,0,0">
                                            <Label Content="Patern Width:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprPaternX" Margin="0,0,0,0" Width="110" Minimum="1" Maximum="10" ValueChanged="A_Texture_ValueChanged"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,10,0,0">
                                            <Label Content="Patern Height:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprPaternY" Margin="0,0,0,0" Width="110" Minimum="1" Maximum="10" ValueChanged="A_Texture_ValueChanged"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,10,0,0">
                                            <Label Content="Patern Depth:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprPaternZ" Margin="0,0,0,0" Width="110" Minimum="1" Maximum="10" ValueChanged="A_Texture_ValueChanged"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,10,0,0">
                                            <Label Content="Animation:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprAnimation" Margin="0,0,0,0" Width="110" Minimum="1" Maximum="64" ValueChanged="A_Texture_ValueChanged"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Height="20" Margin="0,10,0,0">
                                            <Label Content="Bounding Square:" Width="120" Padding="0,0,0,0" Margin="10,0,0,0" HorizontalAlignment="Left"/>
                                            <xctk:IntegerUpDown x:Name="A_SprBounding" Margin="0,0,0,0" Width="110" Minimum="0" Maximum="64" ValueChanged="A_Texture_ValueChanged"/>
                                        </StackPanel>
                                        <CheckBox x:Name="A_SprOpaque" Content="Is Opaque" HorizontalAlignment="Left" Margin="5,5,0,0"/>
                                    </StackPanel>
                                    <StackPanel HorizontalAlignment="Left" VerticalAlignment="Top" Width="320" Margin="5,25,5,0">
                                        <Label Content="Bounding box per direction"/>
                                        <DataGrid x:Name="BoxPerDirection" Height="200" HorizontalAlignment="Left" AutoGenerateColumns="False" CanUserReorderColumns="False" CanUserResizeColumns="False" CanUserResizeRows="False" RowEditEnding="BoxPerDirection_RowEditEnding" CanUserSortColumns="False">
                                            <DataGrid.ColumnHeaderStyle>
                                                <Style TargetType="DataGridColumnHeader">
                                                    <Setter Property="FontSize" Value="10"/>
                                                    <Setter Property="Background" Value="{DynamicResource MaterialDesignLightSeparatorBackground}"/>
                                                </Style>
                                            </DataGrid.ColumnHeaderStyle>
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="X" Binding="{Binding Path = X}" Width="80"/>
                                                <DataGridTextColumn Header="Y" Binding="{Binding Path = Y}" Width="80"/>
                                                <DataGridTextColumn Header="Width" Binding="{Binding Path = Width}" Width="80"/>
                                                <DataGridTextColumn Header="Height" Binding="{Binding Path = Height}" Width="80"/>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </StackPanel>
                                </WrapPanel>
                            </ScrollViewer>
                        </GroupBox>
                    </TabItem>
                    <TabItem Header="Other" UseLayoutRounding="True" RenderOptions.BitmapScalingMode="Fant">
                        <GroupBox Header="Full info" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" >
                            <TextBox x:Name="A_FullInfo" TextWrapping="Wrap" Text="TextBlock" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" IsReadOnly="True"/>
                        </GroupBox>
                    </TabItem>
                </TabControl>
                <Border Grid.Row="2" BorderThickness="1" BorderBrush="{DynamicResource PrimaryHueMidBrush}" VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="10,0,0,10">
                    <materialDesign:Snackbar  x:Name="StatusBar" MessageQueue="{materialDesign:MessageQueue}" IsActive="False" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" ScrollViewer.VerticalScrollBarVisibility="Disabled" Padding="0,-20,0,0" />
                </Border>
            </Grid>
            <GroupBox Grid.Row="0" Grid.Column="2" Header="Sprite List" Width="225" HorizontalAlignment="Right" Margin="10,5,10,10" VerticalAlignment="Stretch">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ImageArea" Height="32" Width="32" VerticalAlignment="Center" />
                            <TextBlock Margin="8,0,0,0" VerticalAlignment="Center" Style="{StaticResource MaterialDesignSubtitle1TextBlock}" Text="{Binding}" />
                            <Button x:Name="SpriteListHelp" Style="{StaticResource MaterialDesignFlatAccentButton}"
                                    ToolTip="Help" materialDesign:RippleAssist.IsDisabled="True"
                                    Margin="20,0,0,0"
                                    PreviewMouseLeftButtonDown="SpriteListHelp_PreviewMouseLeftButtonDown"
                                    Content="{materialDesign:PackIcon HelpCircle}"
                                    HorizontalAlignment="Right" VerticalAlignment="Center">
                            </Button>
                        </StackPanel>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="40"/>
                    </Grid.RowDefinitions>
                    <ListView Grid.Row="0" Grid.Column="0" Margin="0,5,0,0" x:Name="SprListView"
                              HorizontalAlignment="Center" VerticalAlignment="Stretch"
                              VirtualizingPanel.VirtualizationMode="Recycling" VirtualizingPanel.IsVirtualizing="True"
                              SelectionMode="Extended" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                              ScrollViewer.ScrollChanged="SprListView_ScrollChanged" MouseMove="SprListView_DragSpr"
                              SelectedIndex="0" Width="207">
                        <ListView.Resources>
                            <ContextMenu x:Key="RowContextMenu">
                                <MenuItem Header="Edit Sprite" Click="EditSprite_Click"/>
                            </ContextMenu>
                        </ListView.Resources>
                        <ListView.ItemContainerStyle>
                            <Style TargetType="ListViewItem" BasedOn="{StaticResource MaterialDesignGridViewItem}">
                                <Setter Property="ContextMenu" Value="{StaticResource RowContextMenu}"/>
                            </Style>
                        </ListView.ItemContainerStyle>
                        <ListView.View>
                            <GridView AllowsColumnReorder="False">
                                <GridView.ColumnHeaderContainerStyle>
                                    <Style TargetType="{x:Type GridViewColumnHeader}">
                                        <Setter Property="IsHitTestVisible" Value="False"/>
                                        <Setter Property="Visibility" Value="Collapsed" />
                                    </Style>
                                </GridView.ColumnHeaderContainerStyle>
                                <GridViewColumn Header="Id" DisplayMemberBinding="{Binding Id}" Width="60"/>
                                <GridViewColumn Header="Sprite" Width="90">
                                    <GridViewColumn.CellTemplate>
                                        <DataTemplate>
                                            <Image Source="{Binding Image}" Stretch="None" RenderOptions.BitmapScalingMode="NearestNeighbor"/>
                                        </DataTemplate>
                                    </GridViewColumn.CellTemplate>
                                </GridViewColumn>
                            </GridView>
                        </ListView.View>
                    </ListView>
                    <xctk:IntegerUpDown Grid.Row="1" Grid.Column="0" x:Name="SprListViewSelectedIndex" ParsingNumberStyle="Integer" Value="{Binding ElementName=SprListView, Path=SelectedIndex, Mode=TwoWay}" ValueChanged="SprListViewSelectedIndex_ValueChanged" Minimum="0" Focusable="False" Background="{DynamicResource MaterialDesignLightSeparatorBackground}"/>
                    <Border Grid.Row="2" Grid.Column="0" BorderThickness="1" BorderBrush="{DynamicResource PrimaryHueMidBrush}" VerticalAlignment="Top" HorizontalAlignment="Stretch" Margin="0,5,0,5">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <Button x:Name="SpriteExport" Style="{StaticResource MaterialDesignIconButton}" ToolTip="Export Sprite" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="SpriteExport_PreviewMouseLeftButtonDown" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <materialDesign:PackIcon Kind="FileExport" Width="25" Height="25"/>
                            </Button>
                            <Button x:Name="OpenSpriteManager" Style="{StaticResource MaterialDesignIconButton}" ToolTip="Open Sprite Manager" materialDesign:RippleAssist.IsDisabled="True" PreviewMouseLeftButtonDown="OpenSpriteManager_PreviewMouseLeftButtonDown" HorizontalAlignment="Left" VerticalAlignment="Center">
                                <materialDesign:PackIcon Kind="CameraImage" Width="25" Height="25"/>
                            </Button>
                        </StackPanel>
                    </Border>
                </Grid>
            </GroupBox>
        </Grid>
    </Grid>
</Window>
